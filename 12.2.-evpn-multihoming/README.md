# 12.2. EVPN Multihoming

{% hint style="info" %}
Спасибо за статью [Марату Бабаяну](https://habrahabr.ru/users/Bormoglotx/)
{% endhint %}

![](https://habrastorage.org/web/023/f0c/ec9/023f0cec93074a319320b89b4fdd78bb.jpg)

В статье, посвященной EVPN я затронул тему multihoming-га. Многих эта тема заинтересовала и поэтому в продолжении предыдущей статьи сегодня мы рассмотрим что же такое EVPN multihoming и как он работает.

EVPN multihoming работает в двух режимах: Single-Active и Active-Active. Мы сегодня в основном остановимся на более сложном и интересном варианте: Active-Active, так как Single-Active по сути очень упрощенная версия Active-Active.

Данная статья рассчитана на тех, кто уже имеет общие знания о EVPN: основные принципы работы, отличия от VPLS и т д. В противном случае понять содержание статьи будет сложно.

> Примечание: Лабораторный стенд я собрал в EVE-NG с использованием vMX: как P-маршрутизатор и свичи запущены vMX версии 14.1, как PE-маршрутизаторы vMX 16.1, как конечные хосту 5 Linux-машин. В отличии от прошлой лабы, которую я собирал на ноутбуке, данная лаба слишком требовательна к ресурсам. Дело в том, что vMX 16.1 работает на двух виртуальных машинах и требует в общей сложности 4 CPU и 8Гб RAM. В итоге для представленной в статье лабы необходимо порядка 35Гб RAM на сервере, Но хочу заметить что в рабочем состоянии вся лаба занимала чуть больше 23Gb RAM \(это надо иметь ввиду, если вдруг захотите поднять данную лабу дома\).

