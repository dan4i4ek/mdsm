# Теория

Для начала нужно уяснить себе, что IPSec – это не протокол, это стандарт, включающий в себя целых три протокола, каждый со своими функциями:

1. **ESP** \(Encapsulating Security Payload – безопасная инкапсуляция полезной нагрузки\) занимается непосредственно шифрованием данных, а также может обеспечивать аутентификацию источника и проверку целостности данных
2. **AH** \(Authentication Header – заголовок аутентификации\) отвечает за аутентификацию источника и проверку целостности данных
3. **IKE** \(Internet Key Exchange protocol – протокол обмена ключами\) используется для формирования IPSec SA \(Security Association, об этом чуть ниже\), проще говоря, согласования работы участников защищенного соединения. Используя этот протокол, участники договариваются, какой алгоритм шифрования будет использоваться, по какому алгоритму будет производиться \(и будет ли вообще\) проверка целостности, как аутентифицировать друг друга

