# Ещё пара слов о других версиях IGMP

Версия 1 отличается по сути только тем, что **в ней нет сообщения Leave**. Если клиент не хочет больше получать трафик данной группы, он просто перестаёт посылать Report в ответ на Query. Когда не останется ни одного клиента, маршрутизатор по таймауту перестанет слать трафик.  
Кроме того, **не поддерживаются выборы Querier**. За избежание дублирования трафика отвечает вышестоящий протокол, например, PIM, о котором мы будем говорить [далее](https://github.com/eucariot/SDSM/tree/3980ebc949c706312c92a0770d22501121795c27/9.-multicast/1.-igmp/9.-multicast.md#PIM).

Версия 3 поддерживает всё то, что поддерживает IGMPv2, но есть и ряд изменений. Во-первых, Report отправляется уже не на адрес группы, а на мультикастовый служебный адрес **224.0.0.22**. А адрес запрашиваемой группы указан только внутри пакета. Делается это для упрощения работы IGMP Snooping, о котором мы поговорим [дальше](https://github.com/eucariot/SDSM/tree/3980ebc949c706312c92a0770d22501121795c27/9.-multicast/1.-igmp/9.-multicast.md#IGMP_Snooping).

Во-вторых, что более важно, IGMPv3 стал поддерживать SSM в чистом виде. Это так называемый [**Source Specific Multicast**](http://lookmeup.linkmeup.ru/#term284). В этом случае клиент может не просто запросить группу, но также указать список источников, от которых он хотел бы получать трафик или наоборот не хотел бы. В IGMPv2 клиент просто запрашивает и получает трафик группы, не заботясь об источнике.

![IGMPv3](http://img-fotki.yandex.ru/get/9806/83739833.39/0_db5cd_7173c5bc_XXXL.png)

Итак, IGMP предназначен для взаимодействия клиентов и маршрутизатора. Поэтому, возвращаясь к _Примеру II_, где нет маршрутизатора, мы можем авторитетно заявить — IGMP там — не более, чем формальность. Маршрутизатора нет, и клиенту не у кого запрашивать мультикастовый поток. А заработает видео по той простой причине, что поток и так льётся от коммутатора — надо только подхватить его.

Напомним, что IGMP не работает для IPv6. Там существует протокол [MLD](http://lookmeup.linkmeup.ru/#term286).

