# Проблема Эн квадрат

На этом месте тему IBGP можно было бы закрыть, если бы не одно «НО» — Full Mesh. Мы говорили о проблемах полносвязной топологии, когда обсуждали [OSPF](https://linkmeup.ru/blog/33.html). Там выходом являлись DR — Designated Router, позволяющие сократить количество связей между маршрутизаторам с n*(n-1)/2 до n-1\. Но, если в случае OSPF такая топология была, скорее, исключением, потому что больше 2-3 маршрутизаторов в одном L2-сегменте бывает довольно редко, то для IBGP — это самая обычная практика. У «больших» счёт BGP-маршрутизаторов внутри AS идёт на десятки. А уже для 10 устройств на **каждом** узле нужно будет прописать 9 соседей, то есть всего 45 связей и 90 команд **neighbor** как минимум. Не хило так.  
Итак, мы подошли к таким понятиям, как _Route Reflector_ и _Confederation_. Уж не знаю почему, но эта тема меня всегда пугала какой-то надуманной сложностью.  
