# 9. Мультикаст

## Сети для самых маленьких. Часть девятая. Мультикаст

Наш умозрительный провайдер linkmeup взрослеет и обрастает по-тихоньку всеми услугами обычных операторов связи. Теперь мы доросли до IPTV.  
Отсюда вытекает необходимость настройки мультикастовой маршрутизации и в первую очередь понимание того, что вообще такое мультикаст.  
Это первое отклонение от привычных нам принципов работы IP-сетей. Всё-таки парадигма многоадресной рассылки в корне отличается от тёплого лампового юникаста.  
Можно даже сказать, это в некоторой степени бросает вызов гибкости вашего разума в понимании новых подходов.

В этой статье сосредоточимся на следующем:

* [Общее понимание Multicast](https://github.com/djvnsk/SDSM/tree/f818dc762fe07ac77e90acf6b35cdea232ea4428/9.-multicast/0.-obchee-ponatie-multicast)
* [Протокол IGMP](https://github.com/djvnsk/SDSM/tree/f818dc762fe07ac77e90acf6b35cdea232ea4428/9.-multicast/1.-igmp)
* [Протокол PIM](https://github.com/eucariot/SDSM/tree/3980ebc949c706312c92a0770d22501121795c27/9.-multicast/9.-multicast.md#PIM)
  * [PIM Dense Mode](2.-pim/0.-pim-dense-mode.md)
  * [Pim Sparse Mode](2.-pim/1.-pim-sparse-mode.md)
  * [SPT Switchover — переключение RPT-SPT](2.-pim/3.-razbor-poletov/2.-spt-switchover-perekluchenie-rpt-spt.md)
  * [DR, Assert, Forwarder](2.-pim/dr-assert-forwarder.md)
  * [Автоматический выбор RP](2.-pim/vybor-rp.md)
  * [SSM](3.-ssm.md)
  * [BIDIR PIM](https://github.com/eucariot/SDSM/tree/3980ebc949c706312c92a0770d22501121795c27/9.-multicast/9.-multicast.md#BIDIR_PIM)
* [Мультикаст на канальном уровне](https://github.com/djvnsk/SDSM/tree/f818dc762fe07ac77e90acf6b35cdea232ea4428/9.-multicast/5.-multicast-na-kanalnom-urovne)
  * [IGMP Snooping](5.-multicast-na-kanalnom-urovne/1.-igmp-snooping.md)
  * [MVR](5.-multicast-na-kanalnom-urovne/3.-multicast-vlan-replication.md)

![](https://img-fotki.yandex.ru/get/9810/83739833.39/0_de148_8fc00820_XL.jpg)

{% embed url="https://youtu.be/uYnC6yU6Apo" caption="Традиционное видео" %}

> На заре моего становления, как инженера, тема мультикаста меня неимоверно пугала, и я связываю это с психотравмой моего первого опыта с ним.  
> «_Так, Марат, срочно, до полудня нужно пробросить видеопоток до нашего нового здания в центре города — провайдер отдаст его нам тут на втором этаже_» — услышал я одним чудесным утром. Всё, что я тогда знал о мультикасте, так это то, что отправитель один, получателей много, ну и, кажется, протокол IGMP там как-то задействован.  
>   
> В итоге до полудня мы пытались всё это дело запустить — я пробросил самый обычный VLAN от точки входа до точки выхода. Но сигнал был нестабильным — картинка замерзала, разваливалась, прерывалась. Я в панике пытался разобраться, что вообще можно сделать с IGMP, тыркался, тыркался, включал мультикаст роутинг, IGMP Snooping, проверял по тысяче раз задержки и потери — ничего не помогало. А потом вдруг всё заработало. Само собой, стабильно, безотказно.  
>   
> Это послужило мне прививкой против мультикаста, и долгое время я не проявлял к нему никакого интереса.  
>   
> Уже гораздо позже я пришёл в к следующему правилу:  
> [![keep kalm and trust me](https://dan4i4ek.info/src/0_dd502_10ea996f_orig.png)  
>   
> И теперь с высоты оттраблшученных кейсов я понимаю, что там не могло быть никаких проблем с настройкой сетевой части — глючило конечное оборудование.

Сохраняйте спокойствие и доверьтесь мне. После этой статьи такие вещи вас пугать не будут.

